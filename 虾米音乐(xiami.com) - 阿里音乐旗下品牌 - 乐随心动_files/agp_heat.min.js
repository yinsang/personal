!function(e,t){"use strict";function n(){for(var e=["taobao.com","tmall.com","etao.com"],t=0;t<e.length;t++)if(location.hostname.indexOf(e[t])>=0)return.1;return.1}function o(){for(var e=S.split("&"),t={},n=0;n<e.length;n++){var o=e[n],r=o.split("=");t[r[0]]=r[1]}return t}function r(e,t){return e&&e.getAttribute?e.getAttribute(t)||"":""}function i(){return p=p||t.getElementsByTagName("head")[0],h||(p?h=p.getElementsByTagName("meta"):[])}function a(e){var t,n,o,a=i(),s=a.length;for(t=0;s>t;t++)if(n=a[t],r(n,"name")==e){o=r(n,"content");break}return o}function s(){return a("ahot-aplus")}function d(){var e=a("aplus-rate-ahot");return parseFloat(e||"")}function c(){var e=a("aplus-rate-ahot-res");return parseFloat(e||"")}function m(){return a("microscope-data")}function u(e,n){var o=e,r=t.getElementById(o);return r||(r=t.createElement("iframe"),r.setAttribute("frameborder","0"),r.style.cssText="width:0;height:0;border:0;display:none;",r.setAttribute("id",o),r.setAttribute("name",o)),n&&r.setAttribute("src",n),r.parentNode||t.body.appendChild(r),r}var l=1;if(!(e._ap_agp_heat&&l<=e._ap_agp_heat.version)){var p,h,f=e.performance||e.mozPerformance||e.msPerformance||e.webkitPerformance||{_na:1},v=location,g=(location.href,v.hostname,e.navigator),E=g.appVersion,T=g&&g.userAgent||"",b=(s(),c()),R=d(),y=n(),M=(m(),t.getElementById("tb-beacon-aplus")),S=r(M,"exparams"),I={layout:0,shouldBindMonitor:!1},N={RATE:{RESOURCE_TIMING:isNaN(b)?.001:b,PERFORMANCE_TIMEING:isNaN(R)?y:R,ENGINSTART:1},THRESHOLD:{RESOURCE_TIMING:50},DEBUG:{RESOURCE_TIMING:location.search.indexOf("agp-debug-resource")>-1,PERFORMANCE_TIMEING:location.search.indexOf("agp-debug-perf")>-1},ID:{IFRAME:"aplus_iframe_resource_timing",FORM:"aplus_form_resource_timing"}},w=e.attachEvent?function(t){e.attachEvent("onload",t)}:e.addEventListener?function(t){e.addEventListener("load",t,!1)}:function(){},O=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e.length<16;)e+=t.substr(Math.floor(62*Math.random()),1);return e},P=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join("&")},_=function(e){var t=0;return parseFloat(e.replace(/\./g,function(){return 0===t++?".":""}))},C=function(e,t){var n,o;t[n="trident"]=.1,(o=e.match(/Trident\/([\d.]*)/))&&o[1]&&(t[n]=_(o[1])),t.core=n},x=function(e){var t,n;return(t=e.match(/MSIE ([^;]*)|Trident.*; rv(?:\s|:)?([0-9.]+)/))&&(n=t[1]||t[2])?_(n):0},A=function(e){return e||"other"},B=function(n){function o(){for(var e=[["Windows NT 5.1","winXP"],["Windows NT 6.1","win7"],["Windows NT 6.0","winVista"],["Windows NT 6.2","win8"],["iPad","ios"],["iPhone;","ios"],["iPod","ios"],["Macintosh","mac"],["Android","android"],["Ubuntu","ubuntu"],["Linux","linux"],["Windows NT 5.2","win2003"],["Windows NT 5.0","win2000"],["Windows","winOther"],["rhino","rhino"]],t=0,o=e.length;o>t;++t)if(-1!=n.indexOf(e[t][0]))return e[t][1];return"other"}function r(t,n,o,r){var i,a=e.navigator.mimeTypes;try{for(i in a)if(a.hasOwnProperty(i)&&a[i][t]==n){if(void 0!==o&&r.test(a[i][o]))return!0;if(void 0===o)return!0}return!1}catch(s){return!1}}var i,a,s,d,c,m,u,l,p="",h=p,f=p,v=[6,9],g="{{version}}",T="<!--[if IE "+g+"]><s></s><![endif]-->",b=t&&t.createElement("div"),R=[],y={webkit:void 0,trident:void 0,gecko:void 0,presto:void 0,chrome:void 0,safari:void 0,firefox:void 0,ie:void 0,ieMode:void 0,opera:void 0,mobile:void 0,core:void 0,shell:void 0,phantomjs:void 0,os:void 0,ipad:void 0,iphone:void 0,ipod:void 0,ios:void 0,android:void 0,nodejs:void 0,extraName:void 0,extraVersion:void 0};if(b&&b.getElementsByTagName&&(b.innerHTML=T.replace(g,""),R=b.getElementsByTagName("s")),R.length>0){for(C(n,y),d=v[0],c=v[1];c>=d;d++)if(b.innerHTML=T.replace(g,d),R.length>0){y[f="ie"]=d;break}!y.ie&&(s=x(n))&&(y[f="ie"]=s)}else(a=n.match(/AppleWebKit\/([\d.]*)/))&&a[1]?(y[h="webkit"]=_(a[1]),(a=n.match(/OPR\/(\d+\.\d+)/))&&a[1]?y[f="opera"]=_(a[1]):(a=n.match(/Chrome\/([\d.]*)/))&&a[1]?y[f="chrome"]=_(a[1]):(a=n.match(/\/([\d.]*) Safari/))&&a[1]&&(y[f="safari"]=_(a[1])),/ Mobile\//.test(n)&&n.match(/iPad|iPod|iPhone/)?(y.mobile="apple",a=n.match(/OS ([^\s]*)/),a&&a[1]&&(y.ios=_(a[1].replace("_","."))),i="ios",a=n.match(/iPad|iPod|iPhone/),a&&a[0]&&(y[a[0].toLowerCase()]=y.ios)):/ Android/i.test(n)?(/Mobile/.test(n)&&(i=y.mobile="android"),a=n.match(/Android ([^\s]*);/),a&&a[1]&&(y.android=_(a[1]))):(a=n.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))&&(y.mobile=a[0].toLowerCase()),(a=n.match(/PhantomJS\/([^\s]*)/))&&a[1]&&(y.phantomjs=_(a[1]))):(a=n.match(/Presto\/([\d.]*)/))&&a[1]?(y[h="presto"]=_(a[1]),(a=n.match(/Opera\/([\d.]*)/))&&a[1]&&(y[f="opera"]=_(a[1]),(a=n.match(/Opera\/.* Version\/([\d.]*)/))&&a[1]&&(y[f]=_(a[1])),(a=n.match(/Opera Mini[^;]*/))&&a?y.mobile=a[0].toLowerCase():(a=n.match(/Opera Mobi[^;]*/))&&a&&(y.mobile=a[0]))):(s=x(n))?(y[f="ie"]=s,C(n,y)):(a=n.match(/Gecko/))&&(y[h="gecko"]=.1,(a=n.match(/rv:([\d.]*)/))&&a[1]&&(y[h]=_(a[1]),/Mobile|Tablet/.test(n)&&(y.mobile="firefox")),(a=n.match(/Firefox\/([\d.]*)/))&&a[1]&&(y[f="firefox"]=_(a[1])));i||(i=o());var M,S;if(!r("type","application/vnd.chromium.remoting-viewer")){M="scoped"in t.createElement("style"),S="v8Locale"in e;try{l=e.external||void 0}catch(I){}if(a=n.match(/360SE/))m="360";else if((a=n.match(/SE\s([\d.]*)/))||l&&"SEVersion"in l)m="sougou",u=_(a[1])||.1;else if((a=n.match(/Maxthon(?:\/)+([\d.]*)/))&&l){m="maxthon";try{u=_(l.max_version||a[1])}catch(N){u=.1}}else M&&S?m="360se":M||S||!/Gecko\)\s+Chrome/.test(E)||y.opera||y.trident||(m="360ee")}return(a=n.match(/TencentTraveler\s([\d.]*)|QQBrowser\/([\d.]*)/))?(m="tt",u=_(a[2])||.1):(a=n.match(/LBBROWSER/))||l&&"LiebaoGetVersion"in l?m="liebao":(a=n.match(/TheWorld/))?(m="theworld",u=3):(a=n.match(/TaoBrowser\/([\d.]*)/))&&(m="taobao",u=_(a[1])||.1),y.os=i,y.core=y.core||h,y.shell=f,y.ieMode=y.ie&&t.documentMode||y.ie,y.extraName=m,y.extraVersion=u,y.resolution=e.screen.width+"x"+e.screen.height,y},L=(O(),"BackCompat"==t.compatMode?t.body:t.documentElement,v.protocol),G="https:"==L,k=((new Date).getTime(),L+"//res.mmstat.com/perf.gif?logtype=2&cache="),F=function(e){this.config=e};F.prototype={startup:function(){var t=this;this["spm-cnt"]=e.goldlog&&e.goldlog.spm_ab?e.goldlog.spm_ab:null,w(function(){t.sendPV(),t.sendResourceTiming()})},collectPerformanceTiming:function(){var t=f.timing,n={};if(!t)return n;var o,r,i,a={navigationStart:"ns",unloadEventStart:"ues",unloadEventEnd:"uee",redirectStart:"rds",redirectEnd:"rde",fetchStart:"fs",domainLookupStart:"dls",domainLookupEnd:"dle",connectStart:"cs",connectEnd:"ce",secureConnectionStart:"scs",requestStart:"rqs",responseStart:"rps",responseEnd:"rpe",domLoading:"dl",domInteractive:"di",domContentLoadedEventStart:"dcles",domContentLoadedEventEnd:"dclee",domComplete:"dc",loadEventStart:"les",loadEventEnd:"lee"},s=t.navigationStart;for(o in t)r=t[o],i=a[o],i&&(0===r||void 0===r?n[i]="na":"number"==typeof r&&(n[i]=r-s));var d,c;return"number"==typeof t.msFirstPaint?d=t.msFirstPaint:e.chrome&&e.chrome.loadTimes&&(c=e.chrome.loadTimes().firstPaintTime)&&(d=Math.ceil(1e3*c)),"number"==typeof d?d-=s:d="na",n.fp=d,n},collectResourceTiming:function(){if("performance"in e&&"getEntriesByType"in f&&f.getEntriesByType("resource")instanceof Array){var t=[],n=f.getEntriesByType("resource"),o=function(e){return void 0===e||0===e?0:Math.floor(e)};for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];i.initiatorType&&t.push({rs:o(i.redirectStart),re:o(i.redirectEnd),fs:o(i.fetchStart),st:o(i.startTime),dls:o(i.domainLookupStart),dle:o(i.domainLookupEnd),cs:o(i.connectStart),ce:o(i.connectEnd),scs:o(i.secureConnectionStart),resqs:o(i.requestStart),resps:o(i.responseStart),respe:o(i.responseEnd),restype:i.initiatorType,n:i.name})}return t}},sendPV:function(){if(Math.random()<N.RATE.PERFORMANCE_TIMEING||N.DEBUG.PERFORMANCE_TIMEING){var e=this;if(!this.initialized){var t,n,r,i,a,s,d,c,m,u,l,p,h,f=1;try{t=B(T),n=t.os,r=t.shell,i=t.core,a=t.resolution,s=t.extraName,d=t.extraVersion,c=n?n+(t[n]?t[n]:""):"",m=r?r+parseInt(t[r]):"",u=i,l=a,p=s?s+(d?parseInt(d):""):""}catch(v){}var g={p:f,o:A(c),b:A(m),w:A(u),s:l,mx:p};this["spm-cnt"]&&(g["spm-cnt"]=this["spm-cnt"].join(".")),goldlog&&goldlog.pvid&&(g["spm-cnt"]+="."+goldlog.pvid),G&&(g.isps=1),(h=o().trid)&&(g.trid=h),setTimeout(function(){var t,n,o=e.collectPerformanceTiming();for(t in o)o.hasOwnProperty(t)&&(n=o[t],g[t]||(g[t]=n));e.initialized=!0,e.sendData(k+Math.random(),g)},0)}}},sendResourceTiming:function(){var t=this;if((Math.random()<N.RATE.RESOURCE_TIMING||N.DEBUG.RESOURCE_TIMING)&&"performance"in e)for(var n="|--|",o=this.collectResourceTiming(),r=this.groupResourceTimingData(o),i=0;i<r.length;i++)!function(e){setTimeout(function(){var o=[goldlog?goldlog.pvid:"","total="+r.length,"index="+(e+1),"rescnt="+r[e].groupItem.length,r[e].groupItemString].join(n);t.setResourceTimingForm("content",o)},500*(e+1))}(i)},groupResourceTimingData:function(e){for(var t=this,n=[];e.length;)n.push(e.splice(0,N.THRESHOLD.RESOURCE_TIMING));for(var o=0;o<n.length;o++){for(var r=n[o],i="",a="|--|",s="resinfo=",d=0;d<r.length;d++){var c=r[d];i+=s+t.serializeResourceObj(c)+a}n[o]={groupItem:r,groupItemString:i}}return n},serializeResourceObj:function(e){var t,n=[],o="|-|";for(t in e)e.hasOwnProperty(t)&&n.push(t+"="+encodeURIComponent(e[t]));return n.join(o)},setResourceTimingForm:function(e,n){var o,r,i=N.ID.IFRAME+"_"+Math.floor(1e6*Math.random()),a=u(i);o=t.createElement("form"),o.style.display="none",o.target=a.id,o.method="POST",o.action="//res.mmstat.com/1.gif",o.setAttribute("id",N.ID.FORM),r=t.createElement("input"),r.type="hidden",o.appendChild(r);var s=t.createElement("input");s.type="submit",s.value="",o.appendChild(s),t.body.appendChild(o),r=o.getElementsByTagName("input")[0],r.name=e,r.value=n,o.submit(),a.onload=function(){o.parentNode.removeChild(o),a.parentNode.removeChild(a)}},sendData:function(t,n){var o=new Image,r="_img_"+Math.random(),i=-1==t.indexOf("?")?"?":"&";e[r]=o,o.onload=o.onerror=function(){e[r]=null},o.src=t+i+P(n),o=null}};var D=f.setResourceTimingBufferSize||f.webkitSetResourceTimingBufferSize;if(D&&D.call(f,200),e._ap_agp_heat={version:l},Math.random()<N.RATE.ENGINSTART){var U=new F(I);U.startup()}}}(window,document);